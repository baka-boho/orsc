class t{constructor(){this.canvas=null,this.ctx=null,this.particles=[],this.mathSymbols=["x","∑","∫","≤","≥","∞","∇","λ","μ","σ","π","∂","≈","≠","+","√","α","β","γ","θ","Δ","Ω","φ","ψ","χ","ω","ε","δ","κ","ζ","η","ι","τ","ρ","Γ","Θ","Λ","Π","Φ","Ψ","→","←","⇒","⇔","∈","∉","∅","∩","∪","⊂","⊆","∖","∀","∃","∴","∏","⊥","∧","¬","≅","∝","∠"],this.animationId=null,this.mouse={x:null,y:null},this.init()}init(){this.canvas=document.createElement("canvas"),this.canvas.id="particle-canvas",this.canvas.style.position="absolute",this.canvas.style.top="0",this.canvas.style.left="0",this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.pointerEvents="none",this.canvas.style.zIndex="0";const t=document.querySelector("section.slogan");t&&(t.insertBefore(this.canvas,t.firstChild),this.ctx=this.canvas.getContext("2d"),this.resize(),this.createParticles(),this.animate(),window.addEventListener("resize",()=>this.resize()),t.addEventListener("mousemove",e=>{const s=t.getBoundingClientRect();this.mouse.x=e.clientX-s.left,this.mouse.y=e.clientY-s.top}),t.addEventListener("mouseleave",()=>{this.mouse.x=null,this.mouse.y=null}))}resize(){const t=document.querySelector("section.slogan");t&&(this.canvas.width=t.offsetWidth,this.canvas.height=t.offsetHeight)}createParticles(){for(let t=0;t<0;t++)this.particles.push({x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,size:3*Math.random()+3,speedX:.6*(Math.random()-.4)+.1,speedY:.6*(Math.random()-.4)+.1,opacity:.3*Math.random()+.1,type:"dot",color:this.getRandomColor()});for(let t=0;t<20;t++)this.particles.push({x:Math.random()*this.canvas.width,y:Math.random()*this.canvas.height,size:30*Math.random()+30,speedX:.6*(Math.random()-.5)+.1,speedY:.6*(Math.random()-.5)+.1,opacity:.15*Math.random()+.1,type:"symbol",symbol:this.mathSymbols[t],rotation:Math.random()*Math.PI*2,rotationSpeed:.02*(Math.random()-.5),color:this.getRandomColor()})}getRandomColor(){const t=["rgba(20, 172, 183, ","rgba(255, 255, 255, ","rgba(245, 158, 11, ","rgba(59, 130, 246, ","rgba(139, 92, 246, "];return t[Math.floor(Math.random()*t.length)]}animate(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.particles.forEach((t,e)=>{if(null!==this.mouse.x&&null!==this.mouse.y){const e=t.x-this.mouse.x,s=t.y-this.mouse.y,i=Math.sqrt(e*e+s*s),a=150;if(i<a){const n=(a-i)/a,o=Math.atan2(s,e),h="dot"===t.type?3:2;t.x+=Math.cos(o)*n*h,t.y+=Math.sin(o)*n*h}}t.x+=t.speedX,t.y+=t.speedY,t.x<-50&&(t.x=this.canvas.width+50),t.x>this.canvas.width+50&&(t.x=-50),t.y<-50&&(t.y=this.canvas.height+50),t.y>this.canvas.height+50&&(t.y=-50),"dot"===t.type?(this.ctx.beginPath(),this.ctx.arc(t.x,t.y,t.size,0,2*Math.PI),this.ctx.fillStyle=t.color+t.opacity+")",this.ctx.fill()):"symbol"===t.type&&(t.rotation+=t.rotationSpeed,this.ctx.save(),this.ctx.translate(t.x,t.y),this.ctx.rotate(t.rotation),this.ctx.font=`${t.size}px "Computer Modern", "Latin Modern Math", serif`,this.ctx.fillStyle=t.color+t.opacity+")",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.filter="blur(1px)",this.ctx.fillText(t.symbol,0,0),this.ctx.filter="none",this.ctx.restore())}),this.drawConnections(),this.animationId=requestAnimationFrame(()=>this.animate())}drawConnections(){const t=this.particles.filter(t=>"dot"===t.type);for(let e=0;e<t.length;e++)for(let s=e+1;s<t.length;s++){const i=t[e].x-t[s].x,a=t[e].y-t[s].y,n=Math.sqrt(i*i+a*a);if(n<120){const i=.15*(1-n/120);this.ctx.beginPath(),this.ctx.strokeStyle=`rgba(20, 172, 183, ${i})`,this.ctx.lineWidth=.5,this.ctx.moveTo(t[e].x,t[e].y),this.ctx.lineTo(t[s].x,t[s].y),this.ctx.stroke()}}}destroy(){this.animationId&&cancelAnimationFrame(this.animationId),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),window.removeEventListener("resize",()=>this.resize())}}const e=()=>{"requestIdleCallback"in window?requestIdleCallback(()=>{new t},{timeout:2e3}):setTimeout(()=>{new t},1e3)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",e):e();
